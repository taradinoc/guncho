/*! 
 * angular-loading-bar v0.6.0
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2014 Wes Cruver
 * License: MIT
 */
(function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]);angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]);angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(n){var t=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(t,i,r,u,f){function c(){r.cancel(h);f.complete();o=0;e=0}function s(t){var u,e=i.get("$http"),f=n.defaults,r;return((t.cache||f.cache)&&t.cache!==!1&&(t.method==="GET"||t.method==="JSONP")&&(u=angular.isObject(t.cache)?t.cache:angular.isObject(f.cache)?f.cache:e),r=u!==undefined?u.get(t.url)!==undefined:!1,t.cached!==undefined&&r!==t.cached)?t.cached:(t.cached=r,r)}var e=0,o=0,l=f.latencyThreshold,h;return{request:function(n){return n.ignoreLoadingBar||s(n)||(u.$broadcast("cfpLoadingBar:loading",{url:n.url}),e===0&&(h=r(function(){f.start()},l)),e++,f.set(o/e)),n},response:function(n){return n.config.ignoreLoadingBar||s(n.config)||(o++,u.$broadcast("cfpLoadingBar:loaded",{url:n.config.url,result:n}),o>=e?c():f.set(o/e)),n},responseError:function(n){return n.config.ignoreLoadingBar||s(n.config)||(o++,u.$broadcast("cfpLoadingBar:loaded",{url:n.config.url,result:n}),o>=e?c():f.set(o/e)),t.reject(n)}}}];n.interceptors.push(t)}]);angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0;this.includeBar=!0;this.latencyThreshold=100;this.startSize=.02;this.parentSelector="body";this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"><\/div><\/div>';this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"><\/div><\/div><\/div>';this.$get=["$injector","$document","$timeout","$rootScope",function(n,t,i,r){function g(){u||(u=n.get("$animate"));var o=t.find(p).eq(0);(i.cancel(h),f)||(r.$broadcast("cfpLoadingBar:started"),f=!0,k&&u.enter(s,o),b&&u.enter(l,o),e(d))}function e(n){if(f){var t=n*100+"%";w.css("width",t);c=n;i.cancel(a);a=i(function(){v()},250)}}function v(){var t,n,i;o()>=1||(t=0,n=o(),t=n>=0&&n<.25?(Math.random()*3+3)/100:n>=.25&&n<.65?Math.random()*3/100:n>=.65&&n<.9?Math.random()/50:n>=.9&&n<.99?.005:0,i=o()+t,e(i))}function o(){return c}function y(){c=0;f=!1}function nt(){u||(u=n.get("$animate"));r.$broadcast("cfpLoadingBar:completed");e(1);i.cancel(h);h=i(function(){var n=u.leave(s,y);n&&n.then&&n.then(y);u.leave(l)},500)}var u,p=this.parentSelector,s=angular.element(this.loadingBarTemplate),w=s.find("div").eq(0),l=angular.element(this.spinnerTemplate),a,h,f=!1,c=0,b=this.includeSpinner,k=this.includeBar,d=this.startSize;return{start:g,set:e,status:o,inc:v,complete:nt,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})})();
//# sourceMappingURL=loading-bar.min.js.map
